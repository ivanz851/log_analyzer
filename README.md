# log_analyzer

## **Описание**
Лог-файлы являются важной частью работы любого сервера, так как они содержат информацию о том, какие запросы были отправлены на сервер, какие ошибки возникли и какие действия были выполнены.

Однако, обрабатывать и анализировать эти логи вручную может быть очень трудоемким процессом. 

Для решения этой проблемы написана программа-анализатор логов.

На вход программе через аргументы командной строки задаётся:
- путь к одному или нескольким NGINX лог-файлам в виде локального шаблона или URL
- необязательные временные параметры from и to в формате ISO8601
- необязательный параметр формата вывода результата: markdown или adoc

## **Примеры вызова программы**
```bash
analyzer --path logs/2024* --from 2024-08-31 --format markdown
analyzer --path https://raw.githubusercontent.com/elastic/examples/master/Common%20Data%20Formats/nginx_logs/nginx_logs --format adoc
analyzer --path logs/**/2024-08-31.txt
```

Программа выполняет следующие задачи:
- Подсчитывает общее количество запросов
- Определяет наиболее часто запрашиваемые ресурсы
- Определяет наиболее часто встречающиеся коды ответа
- Рассчитывает средний размер ответа сервера

--- 

##  **Функциональные особенности**
Программа принимает на вход путь к лог-файлам, который может быть шаблоном для локальных файлов или URL.

Программа поддерживает опциональные параметры:
- from и to для анализа записей в заданном временном диапазоне
- выходной формат данных в виде markdown или adoc документа

Функции программы:
- Подсчитывает общее количество запросов
- Определяет наиболее часто запрашиваемые ресурсы
- Определяет наиболее часто встречающиеся коды ответа
- Рассчитывает средний размер ответа сервера
- Рассчитывает 95% перцентиль размера ответа сервера

---

## **Описание входных и выходных данных**
## **Входные данные**
- Путь к лог-файлам: локальный путь (с поддержкой glob) или URL.
- Временные параметры: `from` и `to` в формате ISO8601 (опционально).
- Формат вывода: `markdown` или `adoc` (опционально).

## **Выходные данные**
Текстовый отчёт в выбранном формате с анализом логов.

---

## **Тестирование**
- Реализована проверка чтения файлов по локальному пути и через URL.
- Парсер логов протестирован на корректность разбора формата логов.
- Реализована проверка фильтрации по временному диапазону на различных случаях.
- Реализованы тесты для подсчета статистики, проверяющие правильность расчетов.
- Реализована валидация формата и содержимого выходного отчета.
